(function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],l=0,v=[];l<s.length;l++)i=s[l],o[i]&&v.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var s=a[i];0!==o[s]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},o={app:0},r=[];function s(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"04d8712e"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={about:1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise(function(e,a){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"06f7ade8"}[t]+".css",o=c.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return e()}var v=document.getElementsByTagName("style");for(s=0;s<v.length;s++){u=v[s],l=u.getAttribute("data-href");if(l===n||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");r.request=n,delete i[t],d.parentNode.removeChild(d),a(r)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){i[t]=0}));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,a){n=o[t]=[e,a]});e.push(n[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t),u=function(e){l.onerror=l.onload=null,clearTimeout(v);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+n+": "+i+")");r.type=n,r.request=i,a[1](r)}o[t]=void 0}};var v=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var v=0;v<u.length;v++)e(u[v]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0dd9":function(t,e,a){"use strict";var n=a("2190"),i=a.n(n);i.a},"1aea":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-box"},[a("div",{staticClass:"header"},[t._v("\n      Konfirmasi\n    ")]),a("div",{staticClass:"content"},[t._v('\n      Beli film "'+t._s(t.movieData.original_title)+'" seharga Rp'+t._s(t.moviePrice(t.movieData.vote_average).toLocaleString("id-ID"))+"?\n    ")]),a("div",{staticClass:"actions right"},[a("div",{staticClass:"button",on:{click:function(e){t.closeModal()}}},[t._v("Batal")]),a("div",{staticClass:"button primary",on:{click:function(e){t.buy(t.movieData)}}},[t._v("ya")])])])])},i=[],o=a("cebc"),r=(a("cadf"),a("551c"),a("097d"),a("2f62")),s=a("454a"),c={name:"ModalBuy",props:{show:Boolean,movieData:Object},data:function(){return{}},methods:Object(o["a"])({},Object(r["b"])(["buyMovie"]),{closeModal:function(){this.$emit("close")},buy:function(t){this.buyMovie(t),this.closeModal()}}),created:function(){this.moviePrice=s["a"].moviePrice}},u=c,l=(a("0dd9"),a("2877")),v=Object(l["a"])(u,n,i,!1,null,null,null);v.options.__file="ModalBuy.vue";e["a"]=v.exports},"1da6":function(t,e,a){"use strict";var n=a("222d"),i=a.n(n);i.a},2190:function(t,e,a){},"222d":function(t,e,a){},"3a5e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"verticenter horizcenter",staticStyle:{height:"100vh"}},[a("div",{staticClass:"loading-spinner"})])}],o=(a("53a2"),a("2877")),r={},s=Object(o["a"])(r,n,i,!1,null,null,null);s.options.__file="Loading.vue";e["a"]=s.exports},"454a":function(t,e,a){"use strict";var n=a("59ad"),i=a.n(n);a("cadf"),a("551c"),a("097d");e["a"]={moviePrice:function(t){return t=i()(t),t>=8?21250:t>=6?16350:t>=3?8250:3500}}},"53a2":function(t,e,a){"use strict";var n=a("a6e4"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("div",{staticClass:"logo",on:{click:function(e){t.$router.push("/")}}},[t._v("TokoFlix")]),a("div",{staticClass:"menu"},[a("div",[t._v("\n        Saldo "),a("span",{staticStyle:{color:"#4FA149","font-weight":"bold"}},[t._v("Rp"+t._s(t.$store.state.balance.toLocaleString("id-ID")))])])])]),a("router-view"),a("div",{attrs:{id:"footer"}},[t._v("\n    Â© 2019 TokoFlix\n  ")])],1)},o=[],r=(a("7371"),a("b08e"),{}),s=r,c=(a("7c55"),a("2877")),u=Object(c["a"])(s,i,o,!1,null,null,null);u.options.__file="App.vue";var l=u.exports,v=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("div",[a("loading")],1):a("div",{staticClass:"top-container"},[a("h1",[t._v("Sedang Tayang")]),a("div",{staticClass:"movie-list"},t._l(t.moviesData.results,function(e){return a("div",{key:e.id,staticClass:"movie-item"},[a("div",{staticClass:"poster"},[a("img",{attrs:{src:t.$store.state.imgBaseUrl+e.poster_path}})]),a("div",{staticClass:"info"},[a("div",{staticClass:"text"},[a("h2",[t._v(t._s(e.original_title))]),a("div",{staticClass:"rating"},[a("i",{staticClass:"material-icons"},[t._v("star")]),t._v("\n            "+t._s(e.vote_average)+"\n          ")]),a("p",[t._v(t._s(t.truncate(e.overview)))])]),a("div",{staticClass:"action"},[t.$store.state.boughtMovies.indexOf(e.id)>-1?a("div",{staticClass:"bought"},[a("i",{staticClass:"material-icons"},[t._v("check_circle")]),a("span",[t._v("Anda telah memiliki film ini")])]):t._e(),a("div",{staticClass:"action-buttons"},[a("div",{staticClass:"button",on:{click:function(a){t.showDetail(e)}}},[t._v("\n              Detail\n            ")]),t.$store.state.boughtMovies.indexOf(e.id)<0?a("div",{staticClass:"button primary",on:{click:function(a){t.confirm(e)}}},[t._v("\n              Beli Rp"+t._s(t.moviePrice(e.vote_average).toLocaleString("id-ID"))+"\n            ")]):t._e()])])])])}),0),a("div",{staticClass:"horizcenter pagination-status"},[t._v("\n    halaman "+t._s(t.page)+"/"+t._s(t.moviesData.total_pages)+"\n  ")]),a("div",{staticClass:"horizcenter pagination"},[1!==t.page?a("div",{staticClass:"button icon",on:{click:function(e){t.$router.push({path:"/",query:{page:t.page-1}})}}},[a("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_left")]),t._v("\n      Sebelumnya\n    ")]):t._e(),t.page<t.moviesData.total_pages?a("div",{staticClass:"button icon",on:{click:function(e){t.$router.push({path:"/",query:{page:t.page+1}})}}},[t._v("\n      Selanjutnya\n      "),a("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_right")])]):t._e()]),t.showConfirm?a("modal-buy",{attrs:{"movie-data":t.confirmMovie},on:{close:function(e){t.showConfirm=!1}}}):t._e()],1)},f=[],p=(a("a481"),a("96cf"),a("3b8d")),m=a("cebc"),h=a("2f62"),g=a("bc3a"),b=a.n(g),_=a("3a5e"),y=a("1aea"),w=a("454a"),C={name:"Home",components:{Loading:_["a"],ModalBuy:y["a"]},data:function(){return{moviesData:{},page:this.$route.query.page||1,showConfirm:!1,confirmMovie:{},isLoading:!0}},methods:Object(m["a"])({},Object(h["b"])(["buyMovie"]),{confirm:function(t){this.confirmMovie=t,this.showConfirm=!0},getPopularMovies:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,t.next=3,b()({baseURL:this.$store.state.baseUrl,url:"/movie/now_playing",params:{api_key:this.$store.state.token,page:this.page,region:"ID"}});case 3:n=t.sent,this.moviesData=n.data,this.isLoading=!1;case 6:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),truncate:function(t){return t.length>160?t.substring(0,157)+"...":t},showDetail:function(t){var e=t.original_title.replace(/\W+/g,"-");this.$router.push("/".concat(t.id,"-").concat(e))}}),watch:{page:function(t){this.isLoading=!0,window.scrollTo(0,0),this.getPopularMovies(t)},$route:function(t){this.page=t.query.page||1}},mounted:function(){this.getPopularMovies(this.page)},created:function(){this.moviePrice=w["a"].moviePrice}},k=C,M=(a("1da6"),Object(c["a"])(k,d,f,!1,null,"27e888e5",null));M.options.__file="Home.vue";var j=M.exports;n["a"].use(v["a"]);var O=new v["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:j},{path:"/:movieurl",name:"Detail",component:function(){return a.e("about").then(a.bind(null,"043a"))}}]});n["a"].use(h["a"]);var P=new h["a"].Store({state:{baseUrl:"https://api.themoviedb.org/3",imgBaseUrl:"https://image.tmdb.org/t/p/w300",castBaseUrl:"https://image.tmdb.org/t/p/w138_and_h175_face",backdropBaseUrl:"https://image.tmdb.org/t/p/w250_and_h141_face",token:"ce988ffcdb72a12d80cb923f413787b0",boughtMovies:[],balance:1e5},mutations:{pay:function(t,e){t.balance-=e},addMovie:function(t,e){t.boughtMovies.push(e)}},actions:{buyMovie:function(t,e){t.state;var a=t.commit,n=w["a"].moviePrice(e.vote_average);a("pay",n),a("addMovie",e.id)}}});n["a"].config.productionTip=!1,new n["a"]({router:O,store:P,render:function(t){return t(l)}}).$mount("#app")},"5c48":function(t,e,a){},7371:function(t,e,a){},"7c55":function(t,e,a){"use strict";var n=a("5c48"),i=a.n(n);i.a},a6e4:function(t,e,a){},b08e:function(t,e,a){}});
//# sourceMappingURL=app.a3cb4fc8.js.map